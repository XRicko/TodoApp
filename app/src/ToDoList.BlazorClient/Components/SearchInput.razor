@using ToDoList.BlazorClient.Services

@inject IStringLocalizer<General> Localizer
@inject StateContainer State
@inject Notifier Notifier

<div>
    <input class="form-control standart-input" @oninput="UpdateSearchTerm" placeholder="@Localizer["SearchPlaceholder"]" />
</div>

@code {
    private async Task UpdateSearchTerm(ChangeEventArgs args)
    {
        string searchTerm = args.Value.ToString();

        if (searchTerm.Length != 0 && string.IsNullOrWhiteSpace(searchTerm))
            return;

        State.SearchTerm = searchTerm;
        await Notifier.OnFilterChosen();
    }
}